# Clickstream service

Clickstream service help manage client side events. It provides APIs to capture events, search events and some configurations.

API is built using OpenAPI-Spec and hence follows industry standards.

## Tech details
This server was generated by the [OpenAPI Generator](https://openapi-generator.tech) project.
By using the [OpenAPI-Spec](https://openapis.org), you can easily generate a server stub.
This is an example of building a OpenAPI-enabled server in Java using the SpringBoot framework.

The underlying library integrating OpenAPI to Spring Boot is [springdoc](https://springdoc.org).
Springdoc will generate an OpenAPI v3 specification based on the generated Controller and Model classes.
The specification is available to download using the following url:
http://localhost:8080/v3/api-docs/

Start your server as a simple java application

You can view the api documentation in swagger-ui by pointing to
http://localhost:8080/swagger-ui.html

Change default port value in application.properties

# Generate API model and stubs
openapi-generator-cli generate -i clickstream_api.yaml -g spring

# Sample environment variables setup to run the application from command line or IDE
DB_JDBC_URL=jdbc:sqlite:C:\\Users\\vijay\\projects\\data\\mydata.db;DB_PASSWORD=sa;DB_USER=sa

# Maven build from source code
mvn clean package -Dmaven.test.skip=true

# Docker image creation
docker build --build-arg JAR_FILE=openapi-spring-1.0.11.jar -t clickstreamservice .

# Docker run
docker run -d --env-file env.txt -p 8080:8080 clickstreamservice
# Docker run - in case a volume of host has to be mounted for the container to access
docker run -d --env-file env.txt -p 8080:8080 -v /root/projects/sqlite-data/:/root/projects/sqlite-data/ clickstreamservice